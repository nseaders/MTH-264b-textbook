<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
<script>// Make *any* div with class 'sagecell-python' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({
  "inputLocation": "div.sagecell-python",
  "linked": true,
  "linkKey": "linked-python",
  "autoeval": false,
  "languages": [
    "python"
  ],
  "evalButtonText": "Evaluate (Python)"
});
</script>
</head>
<body class="ignore-math">
<article class="example example-like"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.10</span><span class="period">.</span>
</h4>
<div class="para logical">
<div class="para">Consider the system of equations</div>
<div class="displaymath process-math">
\begin{align*}
0.8x -0.8y -0.4z \amp= 0 \\
-0.3x +0.9y -0.4z \amp =0\\
-0.4x -0.1y +0.8z\amp=0 
\end{align*}
</div>
<div class="para">If you multiply both sides of each equation by 10, you donâ€™t change the solutions to the equations.</div>
<div class="displaymath process-math">
\begin{align*}
8x -8y -4z \amp= 0 \\
-3x +9y -4z \amp =0\\
-4x -y +8z\amp=0 
\end{align*}
</div>
<div class="para">If you use Sympy to row reduce the system, however, you get a different answer.</div>
</div> <div id="rounderror-2" class="ptx-sagecell sagecell-python"><script type="text/x-sage">import sympy as sp

#system of linear equations
S = sp.Matrix([
[ 0.8,-0.8,-0.4 ,0],
[-0.3, 0.9,-0.4, 0],
[-0.5,-0.1, 0.8, 0]])

#same system multiplied by 10
disguised_S = sp.Matrix([
[ 8,-8,-4 ,0],
[-3, 9,-4, 0],
[-5,-1, 8, 0]])

print("Reduced with decimals:", S.rref())
print("Reduced with whole numbers:", disguised_S.rref())
</script></div> A possible fix for the floating point round-off error is to tell Sympy explicitly when to round to zero by making a user defined <code class="code-inline tex2jax_ignore">iszerofunc</code>. <div id="rounderror-4" class="ptx-sagecell sagecell-python"><script type="text/x-sage">import sympy as sp

#system of linear equations
S = sp.Matrix([
[ 0.8,-0.8,-0.4 ,0],
[-0.3, 0.9,-0.4, 0],
[-0.5,-0.1, 0.8, 0]])

#same system multiplied by 10
disguised_S = sp.Matrix([
[ 8,-8,-4 ,0],
[-3, 9,-4, 0],
[-5,-1, 8, 0]])

SRREF = S.rref(iszerofunc=lambda x: abs(x) < 1e-10)

print("Reduced with decimals:", SRREF)
print("Reduced with whole numbers:", disguised_S.rref())
</script></div></article><span class="incontext"><a class="internal" href="section-systems.html#rounderror">in-context</a></span>
</body>
</html>
