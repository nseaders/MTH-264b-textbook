<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Matrix Transformations</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="An Introduction to Matrix Computations in Python">
<meta property="book:author" content="Nicole Seaders and Claire Burke">
<script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script><script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "extpfeil",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math",
    "renderActions": {
      "findScript": [
        10,
        function (doc) {
            document.querySelectorAll('script[type^="math/tex"]').forEach(function(node) {
                var display = !!node.type.match(/; *mode=display/);
                var math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                var text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = {node: text, delim: '', n: 0};
                math.end = {node: text, delim: '', n: 0};
                doc.math.push(math);
            });
        },
        ""
      ]
    }
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "https://pretextbook.org/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script>// Make *any* pre with class 'sagecell-sage' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({
  "inputLocation": "pre.sagecell-sage",
  "linked": true,
  "languages": [
    "sage"
  ],
  "evalButtonText": "Evaluate (Sage)"
});
</script><script>// Make *any* pre with class 'sagecell-python' an executable Sage cell
// Their results will be linked, only within language type
sagecell.makeSagecell({
  "inputLocation": "pre.sagecell-python",
  "linked": true,
  "languages": [
    "python"
  ],
  "evalButtonText": "Evaluate (Python)"
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="https://pretextbook.org/js/0.3/pretext_search.js"></script><link href="https://pretextbook.org/css/0.7/pretext_search.css" rel="stylesheet" type="text/css">
<script>js_version = 0.3</script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.3/pretext.js"></script><script>miniversion=0.1</script><script src="https://pretextbook.org/js/0.3/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/0.3/user_preferences.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:opsz,wdth,wght@8..144,50..150,100..900&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link href="https://pretextbook.org/css/0.7/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/shell_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/navbar_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/style_oscarlevin.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/colors_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.7/setcolors.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="external/custom.css">
</head>
<body class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" class="logo-link" href=""></a><div class="title-container">
<h1 class="heading"><a href="Matrix-Computations.html"><span class="title">An Introduction to Matrix Computations in Python:</span> <span class="subtitle">Just the basics</span></a></h1>
<p class="byline">Nicole Seaders and Claire Burke</p>
</div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<button id="closesearchresults" class="closesearchresults" onclick="document.getElementById('searchresultsplaceholder').style.display = 'none'; return false;">x</button><h2>Search Results: <span id="searchterms" class="searchterms"></span>
</h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div></header><nav id="ptx-navbar" class="ptx-navbar navbar"><button class="toc-toggle button" aria-label="Show or hide table of contents"><span class="icon">‚ò∞</span><span class="name">Contents</span></button><button id="user-preferences-button" class="user-preferences-button button" title="Modify user preferences"><span id="avatarbutton" class="avatarbutton name">You!</span><div id="preferences_menu_holder" class="preferences_menu_holder hidden"><ol id="preferences_menu" class="preferences_menu" style="font-family: 'Roboto Serif', serif;">
<li data-env="avatar" tabindex="-1">Choose avatar<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden avatar">
<li data-val="You!" tabindex="-1">
<span id="theYou!" class="avatarcheck">‚úîÔ∏è</span>You!</li>
<li data-val="üò∫" tabindex="-1">
<span id="theüò∫" class="avatarcheck"></span>üò∫</li>
<li data-val="üë§" tabindex="-1">
<span id="theüë§" class="avatarcheck"></span>üë§</li>
<li data-val="üëΩ" tabindex="-1">
<span id="theüëΩ" class="avatarcheck"></span>üëΩ</li>
<li data-val="üê∂" tabindex="-1">
<span id="theüê∂" class="avatarcheck"></span>üê∂</li>
<li data-val="üêº" tabindex="-1">
<span id="theüêº" class="avatarcheck"></span>üêº</li>
<li data-val="üåà" tabindex="-1">
<span id="theüåà" class="avatarcheck"></span>üåà</li>
</ol>
</li>
<li data-env="fontfamily" tabindex="-1">Font family<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden fontfamily">
<li data-val="face" data-change="OS" tabindex="-1" style="font-family: 'Open Sans'">
<span id="theOS" class="ffcheck">‚úîÔ∏è</span><span class="name">Open Sans</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
<li data-val="face" data-change="RS" tabindex="-1" style="font-family: 'Roboto Serif'">
<span id="theRS" class="ffcheck"></span><span class="name">Roboto Serif</span><span class="sample">AaBbCc 123 PreTeXt</span>
</li>
</ol>
</li>
<li data-env="font" tabindex="-1">Adjust font<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden fonts">
<li>Size</li>
<li><span id="thesize">12</span></li>
<li data-val="size" data-change="-1" tabindex="-1" style="font-size: 80%">Smaller</li>
<li data-val="size" data-change="1" tabindex="-1" style="font-size: 110%">Larger</li>
<li>Width</li>
<li><span id="thewdth">100</span></li>
<li data-val="wdth" data-change="-5" tabindex="-1" style="font-variation-settings: 'wdth' 60">narrower</li>
<li data-val="wdth" data-change="5" tabindex="-1" style="font-variation-settings: 'wdth' 150">wider</li>
<li>Weight</li>
<li><span id="thewght">400</span></li>
<li data-val="wght" data-change="-50" tabindex="-1" style="font-weight: 200">thinner</li>
<li data-val="wght" data-change="50" tabindex="-1" style="font-weight: 700">heavier</li>
<li>Letter spacing</li>
<li>
<span id="thelspace">0</span><span class="byunits">/200</span>
</li>
<li data-val="lspace" data-change="-1" tabindex="-1">closer</li>
<li data-val="lspace" data-change="1" tabindex="-1">f a r t h e r</li>
<li>Word spacing</li>
<li>
<span id="thewspace">0</span><span class="byunits">/50</span>
</li>
<li data-val="wspace" data-change="-1" tabindex="-1">smaller‚ÄÖgap‚ÄÉ</li>
<li data-val="wspace" data-change="1" tabindex="-1">larger‚ÄÉgap</li>
<li>Line Spacing</li>
<li>
<span id="theheight">135</span><span class="byunits">/100</span>
</li>
<li data-val="height" data-change="-5" tabindex="-1" style="line-height: 1">closer<br>together</li>
<li data-val="height" data-change="5" tabindex="-1" style="line-height: 1.75">further<br>apart</li>
</ol>
</li>
<li data-env="atmosphere" tabindex="-1">Light/dark mode<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden atmosphere">
<li data-val="default" tabindex="-1">
<span id="thedefault" class="atmospherecheck">‚úîÔ∏è</span>default</li>
<li data-val="pastel" tabindex="-1">
<span id="thepastel" class="atmospherecheck"></span>pastel</li>
<li data-val="darktwilight" tabindex="-1">
<span id="thedarktwilight" class="atmospherecheck"></span>twilight</li>
<li data-val="dark" tabindex="-1">
<span id="thedark" class="atmospherecheck"></span>dark</li>
<li data-val="darkmidnight" tabindex="-1">
<span id="thedarkmidnight" class="atmospherecheck"></span>midnight</li>
</ol>
</li>
<li data-env="ruler" tabindex="-1">Reading ruler<div class="wrap_to_submenu"><span class="to_submenu">‚ñª</span></div>
<ol class="hidden ruler">
<li data-val="none" tabindex="-1">
<span id="thenone" class="rulercheck">‚úîÔ∏è</span>none</li>
<li data-val="underline" tabindex="-1">
<span id="theunderline" class="rulercheck"></span>underline</li>
<li data-val="lunderline" tabindex="-1">
<span id="thelunderline" class="rulercheck"></span>L-underline</li>
<li data-val="greybar" tabindex="-1">
<span id="thegreybar" class="rulercheck"></span>grey bar</li>
<li data-val="lightbox" tabindex="-1">
<span id="thelightbox" class="rulercheck"></span>light box</li>
<li data-val="sunrise" tabindex="-1">
<span id="thesunrise" class="rulercheck"></span>sunrise</li>
<li data-val="sunriseunderline" tabindex="-1">
<span id="thesunriseunderline" class="rulercheck"></span>sunrise underline</li>
<li class="moveQ">Motion by:</li>
<li data-val="mouse" tabindex="-1">
<span id="themouse" class="motioncheck">‚úîÔ∏è</span>follow the mouse</li>
<li data-val="arrow" tabindex="-1">
<span id="thearrow" class="motioncheck"></span>up/down arrows - not yet</li>
<li data-val="eye" tabindex="-1">
<span id="theeye" class="motioncheck"></span>eye tracking - not yet</li>
</ol>
</li>
</ol></div></button><span class="treebuttons"><a class="previous-button button" href="section-matrices.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="up-button button" href="chapter2.html" title="Up"><span class="icon">^</span><span class="name">Up</span></a><a class="next-button button" href="section-determinants.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a></span><div class="searchbox"><div class="searchwidget">
<input id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search" onchange="doSearch()"><button id="searchbutton" class="searchbutton" type="button" onclick="doSearch()">üîç</button>
</div></div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\R}{\mathbb R}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth2"><ul class="structural">
<li><div class="toc-item"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li><div class="toc-item"><a href="prologue.html" class="internal"><span class="codenumber">0</span> <span class="title">Prologue</span></a></div></li>
<li>
<div class="toc-item"><a href="chapter1.html" class="internal"><span class="codenumber">1</span> <span class="title">Basics, Modules, and Graphing</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="section-variables.html" class="internal"><span class="codenumber">1.1</span> <span class="title">Variables</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-variables.html#subsection-1" class="internal"><span class="title"></span></a></div></li>
<li><div class="toc-item"><a href="section-variables.html#subsec-naming-variables" class="internal"><span class="title">Naming Variables</span></a></div></li>
<li><div class="toc-item"><a href="section-variables.html#subsec_comments_in_Python" class="internal"><span class="title">Arithmetic and Comments in Python</span></a></div></li>
<li><div class="toc-item"><a href="section-variables.html#subsec_more_vars" class="internal"><span class="title">More about Variables</span></a></div></li>
<li><div class="toc-item"><a href="section-variables.html#subsec_errors" class="internal"><span class="title">Syntax and Semantic errors</span></a></div></li>
<li><div class="toc-item"><a href="section-variables.html#exercises-variable" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="section-modules.html" class="internal"><span class="codenumber">1.2</span> <span class="title">Python Packages and NumPy</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-modules.html#subsection-6" class="internal"><span class="title">Importing the package NumPy</span></a></div></li>
<li><div class="toc-item"><a href="section-modules.html#subsection-7" class="internal"><span class="title">Standard functions in NumPy</span></a></div></li>
<li><div class="toc-item"><a href="section-modules.html#subsection-8" class="internal"><span class="title">NumPy arrays</span></a></div></li>
<li><div class="toc-item"><a href="section-modules.html#exercises-modules" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="section-matplotlib.html" class="internal"><span class="codenumber">1.3</span> <span class="title">Matplotlib and 2D graphing</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-matplotlib.html#subsec-figures" class="internal"><span class="title">Creating a graph or plot</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#subsection-10" class="internal"><span class="title">Curves in 2D</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#subsec-scatterplots" class="internal"><span class="title">Scatter Plots in 2D</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#subsection-12" class="internal"><span class="title">Parametric Curves in 2D</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#labels" class="internal"><span class="title">Titles and Axes Labels</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#custom-graphs" class="internal"><span class="title">Customizing</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#subsec-Vectorsin2D" class="internal"><span class="title">Vectors in 2D</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#subsec-subplots" class="internal"><span class="title">Multiple plots in the same figure</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib.html#exercises-matplotlib2D" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="section-matplotlib3d.html" class="internal"><span class="codenumber">1.4</span> <span class="title">Matplotlib and 3D graphing</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-matplotlib3d.html#subsec-3Daxes" class="internal"><span class="title">3D axes</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib3d.html#subsec-3DParam" class="internal"><span class="title">Parametric Curves in 3D</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib3d.html#subsec-Graphing-a-surface" class="internal"><span class="title">Surfaces and scatterplots in 3D</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib3d.html#subsec-3DAxesandLabels" class="internal"><span class="title">Axes and Labels</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib3d.html#subsec-multiplesurfaces" class="internal"><span class="title">Plotting Multiple Surfaces</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib3d.html#subsection-22" class="internal"><span class="title">Customizing</span></a></div></li>
<li><div class="toc-item"><a href="section-matplotlib3d.html#exercises-matplotlib3D" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="section-animation.html" class="internal"><span class="codenumber">1.5</span> <span class="title">Basic Animation</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-animation.html#subsection-23" class="internal"><span class="title">Animating in Matplotlib</span></a></div></li>
<li><div class="toc-item"><a href="section-animation.html#exercises-animation" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="chapter2.html" class="internal"><span class="codenumber">2</span> <span class="title">Matrix Algebra in Python</span></a></div>
<ul class="structural">
<li>
<div class="toc-item"><a href="section-systems.html" class="internal"><span class="codenumber">2.1</span> <span class="title">Solving and Graphing Systems of Linear Equations</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-systems.html#rref" class="internal"><span class="title">Row Reduction</span></a></div></li>
<li><div class="toc-item"><a href="section-systems.html#graphsolution" class="internal"><span class="title">Graphing solutions to systems of equations</span></a></div></li>
<li><div class="toc-item"><a href="section-systems.html#subsection-26" class="internal"><span class="title">Graphing vector equations and their solutions</span></a></div></li>
<li><div class="toc-item"><a href="section-systems.html#subsec-" class="internal"><span class="title">Converting between Numpy arrays and Sympy Matrices</span></a></div></li>
<li><div class="toc-item"><a href="section-systems.html#subsecRoundingErrorRref" class="internal"><span class="title">Round-off error in Sympy‚Äôs rref()</span></a></div></li>
<li><div class="toc-item"><a href="section-systems.html#exercises-systems" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="section-matrices.html" class="internal"><span class="codenumber">2.2</span> <span class="title">Matrix Arithmetic</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-matrices.html#subsection-29" class="internal"><span class="title">NumPy vs SymPy</span></a></div></li>
<li><div class="toc-item"><a href="section-matrices.html#subsec-BasicMatrices" class="internal"><span class="title">Basic Matrices</span></a></div></li>
<li><div class="toc-item"><a href="section-matrices.html#subsec-MatrixArithmetic" class="internal"><span class="title">Matrix Arithmetic</span></a></div></li>
<li><div class="toc-item"><a href="section-matrices.html#subsec-MatrixMultiplication" class="internal"><span class="title">Matrix Multiplication</span></a></div></li>
<li><div class="toc-item"><a href="section-matrices.html#subsec-MatrixInverses" class="internal"><span class="title">Matrix Inverses</span></a></div></li>
<li><div class="toc-item"><a href="section-matrices.html#subsec-solving-with-inverses" class="internal"><span class="title">Solving Matrix Equations via Inverses</span></a></div></li>
<li><div class="toc-item"><a href="section-matrices.html#subsec-ill-conditioned" class="internal"><span class="title">Ill-Conditioned Matrices</span></a></div></li>
<li><div class="toc-item"><a href="section-matrices.html#exercises-matrices" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li class="active">
<div class="toc-item"><a href="section-transformations.html" class="internal"><span class="codenumber">2.3</span> <span class="title">Matrix Transformations</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-transformations.html#subsec-ComputingMatrixTransformations" class="internal"><span class="title">Computing Matrix Transformations</span></a></div></li>
<li><div class="toc-item"><a href="section-transformations.html#subsection-37" class="internal"><span class="title">Visualizing a Matrix Transformation</span></a></div></li>
<li><div class="toc-item"><a href="section-transformations.html#subsection-38" class="internal"><span class="title">Animating Matrix Transformations</span></a></div></li>
<li><div class="toc-item"><a href="section-transformations.html#exercises-transformations" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="section-determinants.html" class="internal"><span class="codenumber">2.4</span> <span class="title">Determinants</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-determinants.html#subsec-what-is-determinant" class="internal"><span class="title">What is the determinant?</span></a></div></li>
<li><div class="toc-item"><a href="section-determinants.html#subsec-computing-determinant" class="internal"><span class="title">Computing the Determinant</span></a></div></li>
<li><div class="toc-item"><a href="section-determinants.html#subsec-determinants-linear-systems" class="internal"><span class="title">Determinants and Systems of Linear Equations</span></a></div></li>
<li><div class="toc-item"><a href="section-determinants.html#subsec-numerical-solve" class="internal"><span class="title">Numerically Solving System of Equations</span></a></div></li>
<li><div class="toc-item"><a href="section-determinants.html#subsec-Ill-conditionedTransformations" class="internal"><span class="title">Ill-conditioned Matrices</span></a></div></li>
<li><div class="toc-item"><a href="section-determinants.html#exercises-determinants" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li>
<div class="toc-item"><a href="section-eigenthings.html" class="internal"><span class="codenumber">2.5</span> <span class="title">Eigenthings</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="section-eigenthings.html#subsec-computing-eigenthings" class="internal"><span class="title">Computing Eigenthings</span></a></div></li>
<li><div class="toc-item"><a href="section-eigenthings.html#subsec-visualizing-eigenthings" class="internal"><span class="title">Visualizing with Eigenthings</span></a></div></li>
<li><div class="toc-item"><a href="section-eigenthings.html#exercises-eigenthings" class="internal"><span class="title">Exercises</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li>
<div class="toc-item"><a href="appendix.html" class="internal"><span class="codenumber">3</span> <span class="title">Appendix</span></a></div>
<ul class="structural"><li>
<div class="toc-item"><a href="examples.html" class="internal"><span class="codenumber">3.1</span> <span class="title">Samples of various pretext formats</span></a></div>
<ul class="structural">
<li><div class="toc-item"><a href="examples.html#subsection-46" class="internal"><span class="title">What happens if I do this?</span></a></div></li>
<li><div class="toc-item"><a href="examples.html#reading-questions-1" class="internal"><span class="title">Reading Questions</span></a></div></li>
</ul>
</li></ul>
</li>
<li><div class="toc-item"><a href="backmatter.html" class="internal"><span class="title">Backmatter</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content">
<section class="section" id="section-transformations"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">2.3</span> <span class="title">Matrix Transformations</span>
</h2>
<section class="introduction" id="introduction-11"><div class="para" id="p-287">Matrix-vector multiplication can fundamentally be interpreted as linear transformations of a vector space. We can directly graph these transformations in <span class="process-math">\(\mathbb{R}^2\)</span> and <span class="process-math">\(\mathbb{R}^3\text{.}\)</span> We can usually generalize our understanding to <span class="process-math">\(\mathbb{R}^n\)</span> even though we can‚Äôt graph the higher dimensions.</div> <div class="para" id="p-288">Since we will graph in Matplotlib, which uses NumPy arrays, we will default to NumPy (instead of SymPy) for our matrix computations.</div> <div class="para" id="p-289">In this section we will learn how to</div></section><article class="objectives goal-like" id="objectives-8"><h3 class="heading"><span class="type">Objectives</span></h3>
<ul class="disc">
<li id="li-86"><div class="para" id="p-290">Compute a matrix transformation using NumPy.</div></li>
<li id="li-87"><div class="para" id="p-291">Visualize a matrix transformation using basis vectors or a grid in Matplotlib.</div></li>
<li id="li-88"><div class="para" id="p-292">Animate a visual of a Matrix Transformation.</div></li>
</ul></article><section class="subsection" id="subsec-ComputingMatrixTransformations"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Computing Matrix Transformations</span>
</h3>
<div class="para" id="p-293">We can compute the matrix transformation of a vector simply by using matrix-vector multiplication. Recall that in order to multiply a vector by a matrix, you need a column vector. You can use NumPy‚Äôs <code class="code-inline tex2jax_ignore">transpose</code> or <code class="code-inline tex2jax_ignore">.T</code> function to convert if needed.<a href="" data-knowl="" class="id-ref fn-knowl original" data-refid="hk-fn-7" id="fn-7"><sup>‚Äâ3‚Äâ</sup></a>
</div>
<pre class="ptx-sagecell sagecell-python" id="sage-71"><script type="text/x-sage">import numpy as np

x = np.array([[1,2,3]]) #vector
A = np.array([[2,0,1], [0,3,-2]]) #matrix

Ax = np.matmul(A,x) #image under transformation

print('Multiplying', A, 'by', x, 'gives:')
print(Ax)
</script></pre>
<article class="exercise exercise-like" id="exercise-60"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.20</span><span class="period">.</span>
</h4>
<div class="para" id="p-294">Note the above code throws an error. Use NumPy‚Äôs <code class="code-inline tex2jax_ignore">transpose()</code> function to make <span class="process-math">\(\vec{x}\)</span> a column vector to fix the error.</div>
<a href="" data-knowl="" class="id-ref hint-knowl original" data-refid="hk-hint-9" id="hint-9"><span class="type">Hint</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-hint-9"><div class="hint solution-like"><div class="para" id="p-295">You can use <code class="code-inline tex2jax_ignore">transpose(arrayname)</code>, or <code class="code-inline tex2jax_ignore">arrayname.T</code>
</div></div></div></article><article class="exercise exercise-like" id="exercise-61"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.21</span><span class="period">.</span>
</h4>
<div class="para" id="p-296">Recall that NumPy has an alternate command for matrix multiplication. Alter the above code to use the alternate command.</div></article><div class="para logical" id="p-297">
<div class="para">Because matrix multiplication extends matrix-vector multiplication linearly, we can find the image of multiple input vectors all at once. We simply use the vectors we want to transform as the columns of a matrix, then we can extract their image from the matrix product as the corresponding column.</div>
<div class="displaymath process-math">
\begin{equation*}
A 
\left[
\vec{x}_1,  \vec{x}_2,  \cdots,  \vec{x}_n
\right] =
\left[
A\vec{x}_1,  A\vec{x}_2,  \cdots,  A\vec{x}_n
\right]
\end{equation*}
</div>
</div>
<pre class="ptx-sagecell sagecell-python" id="sage-72"><script type="text/x-sage">import numpy as np

#matrix transformation
A = np.array([[2,0,1], [0,3,-2]])

#multiple vectors
xrows = np.array([[1,2,3],[4,5,6], [7,8,9],[0,0,0]])
xcols = xrows.T #transposed to column vector
Ax = np.matmul(A,xcols) #image of multiple vectors

#single vector (from above)
x1 = xrows[3] 
x1col = x1.T #transposed to column vector
Ax1 = np.matmul(A,x1col) #image of one vector

print('The resulting matrix multiplication is:')
print(Ax)
print('Meanwhile, the image of', x1, 'is:', Ax1 )
</script></pre>
<article class="exercise exercise-like" id="exercise-62"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.22</span><span class="period">.</span>
</h4>
<div class="para" id="p-298">Change the above code to select a different input vector and compare to the corresponding column of the matrix product.</div></article></section><section class="subsection" id="subsection-37"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Visualizing a Matrix Transformation</span>
</h3>
<div class="para" id="p-299">We can visualize the effect of a transformation by considering the transformed basis vectors. That is, the image of basis vectors under the transformation <span class="process-math">\(A\text{.}\)</span><a href="" data-knowl="" class="id-ref fn-knowl original" data-refid="hk-fn-8" id="fn-8"><sup>‚Äâ4‚Äâ</sup></a> We can then picture the image of any linear combinations of basis vectors using scaling and adding tail to tip. Since every other vector is a linear combination of the basis vectors, that allows us to visualize the image of every vector in the space.</div>
<div class="para" id="p-300">Note that for a square matrix, the image can be visualized in the same space as the domain. We will demonstrate for a transformation <span class="process-math">\(A:\mathbb{R}^2 \to \mathbb{R}^2\)</span> using the standard basis.</div>
<article class="example example-like" id="e1e2transform"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.23</span><span class="period">.</span><span class="space"> </span><span class="title">Transformed Basis Vectors.</span>
</h4> <div class="para" id="p-301">First we will visualize just the transformed basis vectors.</div> <pre class="ptx-sagecell sagecell-python" id="sage-73"><script type="text/x-sage">import matplotlib.pyplot as plt
import numpy as np

A = np.array([[2,2], [0,3]]) #Transformation
e1 = np.array([[1,0]]) #e1
e2 = np.array([[0,1]]) #e2
Ae1 = np.matmul(A,e1.T) #image of e1
Ae2 = np.matmul(A,e2.T) #image of e2

fig, ax = plt.subplots() #create a figure and axes

# graph basis vectors 
ax.quiver(0,0,e1.T[0,0],e1.T[1,0],label='$\\vec e_1$',color='deepskyblue', angles='xy', scale_units='xy', scale=1, alpha=0.25) 
ax.quiver(0,0,e2.T[0,0],e2.T[1,0],label='$\\vec e_2$',color='teal', angles='xy', scale_units='xy', scale=1, alpha=0.25) 
#graph transformed vectors
ax.quiver(0,0,Ae1[0,0],Ae1[1,0],label='$A \\vec e_1$',color='deepskyblue', angles='xy', scale_units='xy', scale=1) 
ax.quiver(0,0,Ae2[0,0],Ae2[1,0],label='$A \\vec e_2$', color='teal', angles='xy', scale_units='xy', scale=1)

#label and grid
ax.set(title="Transformation of Standard Basis")
ax.set(xlim=(-4,5), ylim=(-3,4))
ax.legend() 
ax.grid()

plt.show() #display graph
</script></pre></article><article class="exercise exercise-like" id="exercise-63"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.24</span><span class="period">.</span>
</h4>
<div class="para" id="p-302">Edit the code in <a href="" class="xref" data-knowl="./knowl/e1e2transform.html" title="Example 2.23: Transformed Basis Vectors">Example¬†2.23</a> to consolidate the basis vectors into columns of one matrix instead. Then extract their images under <span class="process-math">\(A\)</span> from the resulting matrix product. What do you notice?</div></article><div class="para" id="p-303">To visualize how the rest of the space is transformed, we can use scalar multiples of the standard basis to grid out the space. Since the vector <span class="process-math">\(2\vec{e}_1 -\vec{e}_2\)</span> gets mapped to <span class="process-math">\(2A\vec{e}_1-A\vec{e_2}\text{,}\)</span> we can then visualize the result of the transformation using the transformed grid.</div>
<article class="example example-like" id="pointgrid"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.25</span><span class="period">.</span><span class="space"> </span><span class="title">Transformed Point Grid.</span>
</h4> <div class="para" id="p-304">We will first apply <span class="process-math">\(A\)</span> to a grid of coordinate dots. While NumPy‚Äôs <code class="code-inline tex2jax_ignore">meshgrid()</code> works great for plotting a grid of points, the arrays are not the right size to act as input vectors for the matrix-vector multiplication.</div> <div class="para" id="p-305">For matrix-vector multiplication we need column vectors, and if we want to compute the image of several vectors all at once we need a matrix where <em class="emphasis">each</em> column is one of our vectors. Here we want each column to be a coordinate, having top entry an x-value and bottom entry a corresponding y-value. In other words, we need a matrix with first row the x-values and second row the corresponding y-values. NumPy has a <code class="code-inline tex2jax_ignore">array.reshape(size)</code> function that allows us to reshape each array of x-values and y-values from <code class="code-inline tex2jax_ignore">meshgrid()</code> into rows. We can then <code class="code-inline tex2jax_ignore">row_stack()</code> those two rows to form the desired input matrix.</div> <pre class="ptx-sagecell sagecell-python" id="sage-74"><script type="text/x-sage">import numpy as np
import matplotlib.pyplot as plt

fig, ax = plt.subplots() #create fig, axes

A = np.array([[2,2],[0,3]]) #transformation

#create a grid of xy-values
Xvals = np.linspace(-4,4, num=3)
Yvals = np.linspace(-4,4, num=3)
X,Y = np.meshgrid(Xvals, Yvals) 
#reshape the 3x3 grid into an x row and y row
X1 = X.reshape((3**2,))#x-value row 
Y1 = Y.reshape((3**2,)) #y-value row
#stack the two so each column is a coordinate
xygrid = np.row_stack([X1, Y1]) 

#transform via matrix mult
uvgrid = np.matmul(A,xygrid)
#note: the columns of uvgrid are transformed xygrid coord

#plot original points, and transformed points
ax.scatter(xygrid[0],xygrid[1], c=xygrid[0], alpha = 0.25) 
ax.scatter(uvgrid[0],uvgrid[1], c=xygrid[0])
ax.set(xlim=(-20,20), ylim=(-20,20))

plt.show()
</script></pre></article><article class="exercise exercise-like" id="exercise-64"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.26</span><span class="period">.</span>
</h4>
<div class="para" id="p-306">Edit the code in <a href="" class="xref" data-knowl="./knowl/pointgrid.html" title="Example 2.25: Transformed Point Grid">Example¬†2.25</a> to print every array to see how the same arrays are reshaped, recombined, and transformed.</div>
<a href="" data-knowl="" class="id-ref hint-knowl original" data-refid="hk-hint-10" id="hint-10"><span class="type">Hint</span><span class="period">.</span></a><div class="hidden-content tex2jax_ignore" id="hk-hint-10"><div class="hint solution-like"><div class="para" id="p-307">Print arrays so you can compare X to X1 and Y to Y1. Also compare xygrid to xygrid[i] and xygrid to uvgrid to see the difference.</div></div></div></article><article class="exercise exercise-like" id="exercise-65"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.27</span><span class="period">.</span>
</h4>
<div class="para" id="p-308">Edit the code in <a href="" class="xref" data-knowl="./knowl/pointgrid.html" title="Example 2.25: Transformed Point Grid">Example¬†2.25</a> to make a <span class="process-math">\(9\times 9\)</span> point grid instead.<a href="" data-knowl="" class="id-ref fn-knowl original" data-refid="hk-fn-9" id="fn-9"><sup>‚Äâ5‚Äâ</sup></a>
</div></article><article class="exercise exercise-like" id="exercise-66"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.28</span><span class="period">.</span>
</h4>
<div class="para" id="p-309">Note: the argument <code class="code-inline tex2jax_ignore">c=</code> inside <code class="code-inline tex2jax_ignore">scatter</code> tells Matplotlib how to assign colors to our scatterplot. Here we assign colors according to the first array in xygrid. What happens if you assign colors according to the second array inside xygrid?</div></article><div class="para" id="p-310">It can be easier to visualize a matrix transformation using a line grid (or coordinate grid) rather than a collection of points. To use our points to create a grid of lines instead, we need at least two points on each line. We will use <code class="code-inline tex2jax_ignore">plot</code> instead of <code class="code-inline tex2jax_ignore">scatter</code>. Note: horizontal lines have incrementing x-values and constant y-values, while vertical lines have incrementing y-values and constant x-values, so we will need to be careful about which arrays we pass into <code class="code-inline tex2jax_ignore">plot</code>.</div>
<article class="example example-like" id="linegrid"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.29</span><span class="period">.</span><span class="space"> </span><span class="title">Transformed Line Grid.</span>
</h4> <div class="para" id="p-311">We will build up to the transformed grid a step at a time.</div> <div class="para" id="p-312">Step 1: First we will learn how to graph a basic grid of lines.</div> <pre class="ptx-sagecell sagecell-python" id="sage-75"><script type="text/x-sage">import numpy as np
import matplotlib.pyplot as plt

fig, ax = plt.subplots() #create fig, axes

#Create grid of points
NLines=9 
Xvals = np.linspace(-4,4, num=NLines)
Yvals = np.linspace(0,6, num=NLines)
X,Y = np.meshgrid(Xvals, Yvals)

#graph NLine horizontal lines
#increment through y-value arrays for each line 
for i in np.arange(0,NLines,step=1):
    ax.plot(X[i],Y[i], color='gray') 
    
#graph NLine vertical lines 
#increment through x-value arrays for each line
#exercise: why transpose?
for i in np.arange(0,NLines,step=1):
    ax.plot(X.T[i], Y.T[i], color='gray') 

ax.set(xlim=(-10,10), ylim=(-10,10))

plt.show()
</script></pre> <div class="para" id="p-313">Step 2: Graph a transformed grid of lines.</div> <div class="para" id="p-314">Now we add in the matrix transformation. Note: in order to find the transformed line grid, we again <code class="code-inline tex2jax_ignore">.reshape()</code> the X,Y grid into a row of x-values and a row of y-values so we can matrix multiply each point as a column of a matrix. We will then <code class="code-inline tex2jax_ignore">.reshape()</code> back into a transformed meshgrid in order to graph our grid of transformed lines.</div> <pre class="ptx-sagecell sagecell-python" id="sage-76"><script type="text/x-sage">import numpy as np
import matplotlib.pyplot as plt

fig, ax = plt.subplots() #create fig and axes

A = np.array([[2,2],[0,1]]) #matrix transformation

#create grid of points
NLines=9
Xvals = np.linspace(-4,4, num=NLines)
Yvals = np.linspace(0,6, num=NLines)
X,Y = np.meshgrid(Xvals, Yvals)

#reshape into row of x and row of y
X1 = X.reshape((NLines**2,))
Y1 = Y.reshape((NLines**2,))
xygrid = np.row_stack([X1, Y1])

#transform via matrix mult
uvgrid = np.matmul(A,xygrid)

#reshape transformed rows into uvgrid
U1 = uvgrid[0]
V1 = uvgrid[1]
U = U1.reshape(-1,NLines)
V = V1.reshape(-1,NLines)

#graph transformed horizontal lines
for i in np.arange(0,NLines,step=1):
    ax.plot(U[i],V[i], color='gray') 

#graph transformed vertical lines
for i in np.arange(0,NLines,step=1):
    ax.plot(U.T[i], V.T[i], color='gray')

ax.set(xlim=(-10,10), ylim=(-10,10))
    
plt.show()
</script></pre></article><article class="exercise exercise-like" id="exercise-67"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.30</span><span class="period">.</span>
</h4>
<div class="para" id="p-315">In the first step of <a href="" class="xref" data-knowl="./knowl/linegrid.html" title="Example 2.29: Transformed Line Grid">Example¬†2.29</a>, graphing the basic grid of lines, change the number of lines to 3. Now print each array to better see which array is used for each plot. Why do we need the transpose for our vertical lines?</div></article><article class="exercise exercise-like" id="exercise-68"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.31</span><span class="period">.</span>
</h4>
<div class="para" id="p-316">In the second step of <a href="" class="xref" data-knowl="./knowl/linegrid.html" title="Example 2.29: Transformed Line Grid">Example¬†2.29</a>, graphing the transformed grid of lines, change the number of lines to 3. Now print each array to better see which array is used for each plot. What happens if you only increment through the X or the Y and not both?</div></article><article class="example example-like" id="example-10"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.32</span><span class="period">.</span><span class="space"> </span><span class="title">Coloring the Transformed Line Grid.</span>
</h4> <div class="para" id="p-317">Unlike <code class="code-inline tex2jax_ignore">scatter</code> which has an argument <code class="code-inline tex2jax_ignore">c=array</code> that allows us to color code based on an x-coordinate or y-coordinate, <code class="code-inline tex2jax_ignore">plot</code> does not. To better see the effects of a reflection, we will use a sequential color map to color our lines.</div> <div class="para" id="p-318">Step 1: Color a basic grid</div> <pre class="ptx-sagecell sagecell-python" id="sage-77"><script type="text/x-sage">import numpy as np
import matplotlib.pyplot as plt
cmap = plt.get_cmap('viridis') #get colormap

fig, ax = plt.subplots() #create fig and axes

A = np.array([[2,2],[0,1]]) #matrix transformation

#create grid of points
NLines=9
Xvals = np.linspace(-4,4, num=NLines)
Yvals = np.linspace(0,6, num=NLines)
X,Y = np.meshgrid(Xvals, Yvals)

#graph NLines horizontal lines
for i in np.arange(0,NLines,step=1):
    p = i / (NLines-1)  # Normalize index to 0-1
    #graph line with index p color 
    ax.plot(X[i],Y[i],color=cmap(p)) 

#graph NLines vertical lines
for i in np.arange(0,NLines,step=1): 
    p = i / (NLines-1)  # Normalize index to 0-1 
    #graph line with index p color
    ax.plot(X.T[i], Y.T[i], color=cmap(p)) 

ax.set(xlim=(-9,9), ylim=(-9,9))
    
plt.show()
</script></pre> <div class="para" id="p-319">Step 2: Color a transformed grid using corresponding coloring.</div> <div class="para" id="p-320">Below is the corresponding transformed grid with a sequential color map.</div> <pre class="ptx-sagecell sagecell-python" id="sage-78"><script type="text/x-sage">import numpy as np
import matplotlib.pyplot as plt
cmap = plt.get_cmap('viridis') #get colormap

fig, ax = plt.subplots() #create fig and axes

A = np.array([[2,2],[0,1]]) #matrix transformation

#create grid of points
NLines=9
Xvals = np.linspace(-4,4, num=NLines)
Yvals = np.linspace(0,6, num=NLines)
X,Y = np.meshgrid(Xvals, Yvals)
    
#reshape to x-row and y-row
X1 = X.reshape((NLines**2,))
Y1 = Y.reshape((NLines**2,))
xygrid = np.row_stack([X1, Y1])

uvgrid = np.matmul(A,xygrid)

U1 = uvgrid[0]
V1 = uvgrid[1]
U = U1.reshape(-1,NLines)
V = V1.reshape(-1,NLines)

for i in np.arange(0,NLines,step=1):
    p = i / (NLines-1)  # Normalize to 0-1
    ax.plot(U[i],V[i],color=cmap(p) ) 

for i in np.arange(0,NLines,step=1):
    p = i / (NLines-1)  # Normalize to 0-1.
    ax.plot(U.T[i], V.T[i], color=cmap(p))

ax.set(xlim=(-9,15), ylim=(-9,9))
    
plt.show()
</script></pre></article><div class="para logical" id="p-321">
<div class="para">If instead the transformation maps higher dimensional vectors to lower dimensional vectors, or vice versa, we can still visualize the transformation.</div>
<ul class="disc">
<li id="li-89"><div class="para" id="p-322">One approach is to plot two graphs side-by-side color-coded to match: (1) the standard basis (or grid) in the domain and (2)the corresponding transformed basis (or transformed grid) in the co-domain.</div></li>
<li id="li-90"><div class="para" id="p-323">Another approach is to embed everything in the higher dimensional space and animate the transformation there.<a href="" data-knowl="" class="id-ref fn-knowl original" data-refid="hk-fn-10" id="fn-10"><sup>‚Äâ6‚Äâ</sup></a>
</div></li>
</ul>
</div></section><section class="subsection" id="subsection-38"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Animating Matrix Transformations</span>
</h3>
<div class="para" id="p-324">What if we wanted to visualize the transformation as a gradual change?</div>
<div class="para logical" id="p-325">
<div class="para">We can think of where we start as applying the identity matrix <span class="process-math">\(I_n.\)</span> Meanwhile we can think of where we end as applying the final transformation matrix <span class="process-math">\(A\text{.}\)</span> We can create intermediate transformation matrices <span class="process-math">\(IA_p \)</span> between <span class="process-math">\(I_n\)</span>  and <span class="process-math">\(A\)</span> by adding complimentary percentages <span class="process-math">\(p\)</span> of the identity transformation and our matrix transformation,</div>
<div class="displaymath process-math">
\begin{equation*}
IA_p = (1-p)*I_n +p*A \text{.}
\end{equation*}
</div>
<div class="para">We obtain a sliding scale between the two by incrementing through our percentage <span class="process-math">\(p\)</span> from 0 to 1, starting with 100% of our identity transformation and ending with 100% of our matrix transformation.</div>
</div>
<article class="example example-like" id="basisslider"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.33</span><span class="period">.</span><span class="space"> </span><span class="title">Transformed Basis Vectors with Interactive Slider.</span>
</h4> <div class="para" id="p-326">First we create a slider that starts with the identity transformation on two basis vectors and gradually gives us the transformation by <span class="process-math">\(A.\)</span>
</div> <pre class="ptx-sagecell sagecell-python" id="sage-79"><script type="text/x-sage">import matplotlib.pyplot as plt
import numpy as np

e1 = np.array([[1],[0]]) #standard basis
e2 = np.array([[0],[1]]) #standard basis
A = np.array([[2,2], [0,3]]) #matrix transformation
t = np.linspace(0, 10, 11) #user inputs for intermediate transformation

#define function that plots intermediate transformation at user input
def plot_transform(current_t):
    #define an intermediate transformation
    #When t=0 you get the identity, when t=10 you get A
    IA = (1-current_t/10)*np.identity(2)+(current_t/10)*A 

    #plot intermediate transformation
    fig, ax = plt.subplots() #create a figure and axes 
    IAe1 = np.matmul(IA,e1)
    IAe2 = np.matmul(IA,e2)

    ax.quiver(0,0,IAe1[0,0],IAe1[1,0],label='$A \\vec e_1$',color='salmon', angles='xy', scale_units='xy', scale=1) 
    ax.quiver(0,0,IAe2[0,0],IAe2[1,0],label='$A \\vec e_2$', color='teal', angles='xy', scale_units='xy', scale=1)
    ax.set(title="Transformation of Standard Basis", xlim=(-2,5), ylim=(-2,5))
    ax.legend() 
    ax.grid()
    plt.show()

#define function to create graph based on user input
@interact() #create interactive element, this one is a slider
def respond_to_user_input(frame=slider(0,10,1)): 

    #Get current frame chosen by user.
    current_t = t[frame]

    #Call our function that plots the transformation        
    plot_transform(current_t)
</script></pre> <div class="para" id="p-327">Note that in this interactive, we only want the current frame, and not all the frames up to the current frame. Do you know why?</div></article><div class="para" id="p-328">We can animate the gradual transformation using what we learned in <a href="section-animation.html" class="internal" title="Section 1.5: Basic Animation">Section¬†1.5</a>. Using <code class="code-inline tex2jax_ignore">PillowWriter</code> we will start with a somewhat simple .gif of the transformation, then add features.</div>
<article class="example example-like" id="basisgif"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.34</span><span class="period">.</span><span class="space"> </span><span class="title">Transformed Basis Vectors with PillowWriter .gif.</span>
</h4> <pre class="ptx-sagecell sagecell-python" id="sage-80"><script type="text/x-sage">import numpy as np 
import matplotlib.pyplot as plt
from matplotlib.animation import PillowWriter

fig, ax = plt.subplots() #create figure and axes

e1 = np.array([[1],[0]]) #e1
e2 = np.array([[0],[1]]) #e2
A = np.array([[2,2], [0,3]]) #transformation matrix

#set up writer object to grab frames for a gif
writer = PillowWriter(fps=15)

with writer.saving(fig, "TransformVectors1.gif", 100): #100 is the dpi
  for tval in np.linspace(0,10,50):                
    #create an intermediate matrix transformation that gradually
    #transitions between the identity when tval=0 and A when tval=10
    IA = (1-tval/10)*np.identity(2)+(tval/10)*A 

    #matrix multiply to find intermediate image of e1 and e2 
    IAe1 = np.matmul(IA,e1)
    IAe2 = np.matmul(IA,e2) 

    plt.cla() #clear plot of previous vectors  
    #plot intermediate transformed vectors 
    ax.quiver(0,0,IAe1[0,0],IAe1[1,0],label='$A \\vec e_1$', color='salmon', angles='xy', scale_units='xy', scale=1)
    ax.quiver(0,0,IAe2[0,0],IAe2[1,0],label='$A \\vec e_2$', color='teal', angles='xy', scale_units='xy', scale=1)
    ax.set(xlim=(-1,5), ylim=(-1,4))  
    
    writer.grab_frame() #grab frame of current intermediate transformation
</script></pre></article><article class="exercise exercise-like" id="exercise-69"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.35</span><span class="period">.</span>
</h4>
<div class="para" id="p-329">Comment out <code class="code-inline tex2jax_ignore">plt.cla()</code> in <a href="" class="xref" data-knowl="./knowl/basisgif.html" title="Example 2.34: Transformed Basis Vectors with PillowWriter .gif">Example¬†2.34</a>. What happens to your animation?</div></article><article class="exercise exercise-like" id="exercise-70"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.36</span><span class="period">.</span>
</h4>
<div class="para" id="p-330">Add a title, grid, and legend to the animation in <a href="" class="xref" data-knowl="./knowl/basisgif.html" title="Example 2.34: Transformed Basis Vectors with PillowWriter .gif">Example¬†2.34</a>. Where do these need to be added in the code to show up in every frame?</div></article><article class="example example-like" id="basisgiflinger"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.37</span><span class="period">.</span><span class="space"> </span><span class="title">Buffering a .gif.</span>
</h4> <div class="para" id="p-331">Note that the animation would look better visually if we started with the standard basis plot and lingered for a few seconds before beginning the transformation. We can add that by grabbing frames of the standard basis plot first.</div> <pre class="ptx-sagecell sagecell-python" id="sage-81"><script type="text/x-sage">import numpy as np 
import matplotlib.pyplot as plt
from matplotlib.animation import PillowWriter

fig, ax = plt.subplots() #create figure and axes

e1 = np.array([[1],[0]]) #horizontal basis vector
e2 = np.array([[0],[1]]) #vertical basis vector
A = np.array([[2,2], [0,3]]) #transformation matrix

#set up initial graph of standard basis vectors
ax.quiver(0,0,1,0,label='$ \\vec e_1$',color='salmon', angles='xy', scale_units='xy', scale=1)
ax.quiver(0,0,0,1,label='$ \\vec e_2$', color='teal', angles='xy', scale_units='xy', scale=1) 
ax.set(title="Transformation of Standard Basis", xlim=(-2,5), ylim=(-2,5))
ax.grid()
ax.legend()

#set up writer object to grab frames for a gif
writer = PillowWriter(fps=15)

with writer.saving(fig, "TransformVectors2.gif", 100): #100 is the dpi
  for tval in np.linspace(0,10,20):
    writer.grab_frame() #grab frame of initial graph
  for tval in np.linspace(0,10,50):                
    #create an intermediate matrix transformation
    IA = (1-tval/10)*np.identity(2)+(tval/10)*A 

    #matrix multiply to find intermediate image of e1 and e2
    IAe1 = np.matmul(IA,e1) #image of e1
    IAe2 = np.matmul(IA,e2) #image of e2

    plt.cla() #clear plot of previous vectors 
    #plot intermediate transformed vectors 
    ax.quiver(0,0,IAe1[0,0],IAe1[1,0],label='$A \\vec e_1$', color='deepskyblue', angles='xy', scale_units='xy', scale=1)
    ax.quiver(0,0,IAe2[0,0],IAe2[1,0],label='$A \\vec e_2$', color='teal', angles='xy', scale_units='xy', scale=1)                    
    ax.set(title="Transformation of Standard Basis", xlim=(-2,5), ylim=(-2,5))
    ax.legend() 
    ax.grid()
    
    writer.grab_frame() #grab frame of current intermediate transformation
</script></pre></article><div class="para" id="p-332">Note that the .gif would also look better if the animation lingered for a few more seconds at the end where the transformation is complete.</div>
<article class="exercise exercise-like" id="exercise-71"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.38</span><span class="period">.</span>
</h4>
<div class="para" id="p-333">Edit the code in <a href="" class="xref" data-knowl="./knowl/basisgiflinger.html" title="Example 2.37: Buffering a .gif">Example¬†2.37</a> so the animation pauses at the completed transformation. Where do you need to add the loop to grab the correct frames?</div></article><div class="para" id="p-334">Animating a gradual transformation of our collection of points from the identity to the matrix transformation can be done similarly. We will include one example using a .gif animating the transformation of a grid of points and leave the slider and animating a grid of lines as an exercise for the reader.</div>
<article class="example example-like" id="example-14"><h4 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">2.39</span><span class="period">.</span><span class="space"> </span><span class="title">Animated Point Grid Transformation .gif.</span>
</h4> <pre class="ptx-sagecell sagecell-python" id="sage-82"><script type="text/x-sage">import numpy as np 
import matplotlib.pyplot as plt
from matplotlib.animation import PillowWriter

fig, ax = plt.subplots() #create figure and axes

A = np.array([[2,2], [0,3]]) #transformation matrix

#create grid of points
Xvals = np.linspace(-4,4, num=9)
Yvals = np.linspace(0,6, num=9)
X,Y = np.meshgrid(Xvals, Yvals)

#reshape to x-row and y-row
X1 = X.reshape((9**2,))
Y1 = Y.reshape((9**2,))
xygrid = np.row_stack([X1, Y1])

#set up writer object to grab frames for a gif
writer = PillowWriter(fps=15)

with writer.saving(fig, "TransformPoints.gif", 100): #100 is the dpi
  for tval in np.linspace(0,10,30):
    ax.scatter(xygrid[0],xygrid[1], c=xygrid[0])
    ax.set(xlim=(-10,10), ylim=(-5,15))
    
    writer.grab_frame() #grab frames
    
  for tval in np.linspace(0,10,50):                
    #create an intermediate matrix transformation that gradually
    #transitions between the identity when tval=0 and A when tval=10
    IA = (1-tval/10)*np.identity(2)+(tval/10)*A 

    #matrix multiply to find intermediate image of points
    uvgrid = np.matmul(IA,xygrid) 

    plt.cla() #clear plot of previous points  
    #plot intermediate transformed points 
    ax.scatter(uvgrid[0],uvgrid[1], c=xygrid[0])
    ax.set(xlim=(-10,10), ylim=(-5,15))
    
    writer.grab_frame() #grab frames

  for tval in np.linspace(0,10,30): 
    writer.grab_frame() #grab frames
</script></pre></article><article class="exercise exercise-like" id="exercise-72"><h4 class="heading">
<span class="type">You Try</span><span class="space"> </span><span class="codenumber">2.40</span><span class="period">.</span>
</h4>
<div class="para" id="p-335">Animate a gradual matrix transformation using the line grid.</div></article><pre class="ptx-sagecell sagecell-python" id="sage-83"><script type="text/x-sage">python
</script></pre></section><section class="conclusion" id="conclusion-6"><div class="para" id="p-336">Because linear transformations can be fully determined by a basis, we can visualize the transformation based on how a basis is transformed. We can visualize matrix transformations on vectors in <span class="process-math">\(\mathbb{R}^2\)</span> using basis grids (points or lines) and in <span class="process-math">\(\mathbb{R}^3\)</span> using basis vectors (and perhaps a point grid).</div></section><article class="assemblage assemblage-like" id="assemblage-8"><h3 class="heading"><span class="title">Summary.</span></h3>
<div class="para logical" id="p-337">
<ul class="disc"><li id="li-91"><div class="para" id="p-338">TBD</div></li></ul>
<ul class="disc"><li id="li-92"><div class="para" id="p-339">TBD</div></li></ul>
</div></article><section class="exercises" id="exercises-transformations"><h3 class="heading hide-type">
<span class="type">Exercises</span> <span class="codenumber"></span> <span class="title">Exercises</span>
</h3>
<article class="exercise exercise-like" id="exercise-73"><h4 class="heading"><span class="codenumber">1<span class="period">.</span></span></h4>
<div class="para" id="p-340">Visualize a linear transformation using similar methods on a point grid in <span class="process-math">\(\mathbb{R}^3\)</span> in Matplotlib.</div>
<pre class="ptx-sagecell sagecell-python" id="sage-84"><script type="text/x-sage">#
#
#
#
#
</script></pre></article><article class="exercise exercise-like" id="exercise-74"><h4 class="heading"><span class="codenumber">2<span class="period">.</span></span></h4>
<div class="para" id="p-341">Animate a linear transformation on a line grid in Matplotlib.</div>
<pre class="ptx-sagecell sagecell-python" id="sage-85"><script type="text/x-sage">#
#
#
#
#
</script></pre></article><article class="exercise exercise-like" id="exercise-75"><h4 class="heading"><span class="codenumber">3<span class="period">.</span></span></h4>
<div class="para" id="p-342">Animate a linear transformation that goes up or down a dimension in Matplotlib. E.g. <span class="process-math">\(\mathbb{R}^3 \rightarrow \mathbb{R}^2\)</span> or <span class="process-math">\(\mathbb{R}^2 \rightarrow \mathbb{R}^3 \)</span> all visualized or embedded inside <span class="process-math">\(\mathbb{R}^3\text{.}\)</span>
</div>
<pre class="ptx-sagecell sagecell-python" id="sage-86"><script type="text/x-sage">#
#
#
#
#
</script></pre></article></section></section><div class="hidden-content tex2jax_ignore" id="hk-fn-7"><div class="fn">Similarly you can use SymPy‚Äôs <code class="code-inline tex2jax_ignore">Transpose()</code> or <code class="code-inline tex2jax_ignore">.T</code> to convert.</div></div>
<div class="hidden-content tex2jax_ignore" id="hk-fn-8"><div class="fn">We say <span class="process-math">\(A\vec{e}_1\)</span> is the image of the standard basis vector under the transformation <span class="process-math">\(A\text{.}\)</span> That is, the output of <span class="process-math">\(A\vec{e}_1\)</span> under the transformation, i.e. where <span class="process-math">\(\vec{e}_1\)</span> gets mapped via <span class="process-math">\(A\text{.}\)</span>
</div></div>
<div class="hidden-content tex2jax_ignore" id="hk-fn-9"><div class="fn">We used a <span class="process-math">\(3\times 3\)</span> grid at first so you could print the arrays to follow along. Now we want to generalize to more points.</div></div>
<div class="hidden-content tex2jax_ignore" id="hk-fn-10"><div class="fn">Note: every <span class="process-math">\(m\times n\)</span> matrix transformation, say <span class="process-math">\(m\geq n\)</span> can be extended to a <span class="process-math">\(m \times m \)</span> matrix transformation by adding an zero column. (Respectively if <span class="process-math">\(m \leq n\)</span> we extend to <span class="process-math">\(n\times n\)</span> and add a zero row).</div></div>
</div>
<div class="ptx-content-footer">
<a class="previous-button button" href="section-matrices.html" title="Previous"><span class="icon">&lt;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon">^</span><span class="name">Top</span></a><a class="next-button button" href="section-determinants.html" title="Next"><span class="name">Next</span><span class="icon">&gt;</span></a>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="338 3000 8772 6866"><g style="stroke-width:.025in; stroke:black; fill:none"><polyline points="472,3590 472,9732 " style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png"></a>
</div>
</body>
</html>
